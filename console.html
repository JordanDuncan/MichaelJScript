<html>

<head>

    <title>
        Michael J. Script
    </title>
    <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.4.min.js"></script>

    <style type="text/css">
        body { font-size: 15px; 
            font-family:sans-serif; }
        h1 { font-size: 25px;
            font-weight: bold; }
        h2 { font-size: 20px;
            font-weight: bold; }
        canvas { position:absolute; }

        #canvas {
            height: 750px;
            width: 750px;
            background-image: url('assets/mapbackground.png');
            background-size: cover;
            position: relative;
        }
        .sprite {
            height: 5%;
            width: 5%;
            background-color: blue;
            opacity: 0.6;
            position: absolute;
            transition: all 0.2s;
        }
    </style>

</head>

<body>
    <div id="canvas"></div>
    
    <script type="text/javascript">
    var c = 0;

    function rotate(spriteId){
        setInterval(function(){
            setTimeout(function(){
            $('#'+spriteId).css('top',((Math.floor(Math.random()*19))*5) +'%');
            setTimeout(function(){
                $('#'+spriteId).css('left',((Math.floor(Math.random()*19))*5) +'%');
                setTimeout(function(){
                    $('#'+spriteId).css('top',((Math.floor(Math.random()*19))*5) +'%');
                    setTimeout(function(){
                        $('#'+spriteId).css('left',((Math.floor(Math.random()*19))*5) +'%');
                    },500);
                },500);
            },500);
        },500);
        },2000);
    }

    function newUser(){
        $("#canvas").append('<div id="sprite'+c+'"class="sprite" style="top: '+(c*5)+'%; left: '+(c*5)+'%;">hi</div>');
        rotate('sprite'+c)
        c++;
    }
    </script>

    <!--
    <h1>
        Michael J. Script
    </h1>
    
    <a href="#" onclick="draw_map();return false">Click to draw background</a>
    
    <h3>
        Test (canvas not visible until this is here)
    </h3>

    <div id="topFence" style="position:relative;" height="32px" width="750px" >
        <img src="assets/fence_ns.png" height="32px" width="750px"></img>
    </div>
    
    <canvas id="rootCanvas"></canvas>
    
    <div id="bottomFence" style="position:relative;" height="32px" width="750px" >
        <img src="assets/fence_ns.png" height="32px" width="750px"></img>
    </div>
    
    <script type="text/javascript">
        var heightVar = "750";
        var widthVar = "750";
        
        var rC_canvas = document.getElementById("rootCanvas");
        var rC_context = rC_canvas.getContext("2d");
        
        rC_canvas.style.height = heightVar;
        rC_canvas.style.width = widthVar;
        rC_canvas.height = heightVar;
        rC_canvas.width = widthVar;
        
        var backgroundImage = new Image();
        backgroundImage.src = "assets/mapbackground.png"
        backgroundImage.onload = function() {
                rC_context.drawImage(backgroundImage, 0, 0);
        }
        
        /**
        var fence_ewImage = new Image();
        fence_ewImage.src = "assets/fence_ew.png"
        fence_ewImage.onload = function() {
                    rC_context.drawImage(fence_ewImage, 0, 0.5);
                    rC_context.drawImage(fence_ewImage, widthVar-32, 0.5);
        }
        **/
        
            
        function draw_map() {            
            
            for (var x = 0.5; x < widthVar; x += widthVar*0.05) {
                rC_context.moveTo(x, 0);
                rC_context.lineTo(x, widthVar);
            }
            
            for (var y = 0.5; y < heightVar; y += heightVar*0.05) {
                rC_context.moveTo(0, y);
                rC_context.lineTo(heightVar, y);
            }
            
            rC_context.strokeStyle = "#000";
            rC_context.stroke();
            
            //rootCanvas_context.fillRect(0, 0, 32, 32);
        }
        
    </script>
    -->


</body>

</html>